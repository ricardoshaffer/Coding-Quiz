<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="./assets/style.css">
  <!-- <script src="./assets/core-logic.js"></script>
  <script src="./assets/question-objects.js"></script> -->
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Meta tags for Quiz page-->
<!-- META TAGS-->
  <meta name="description" content="Generic Coding Quiz for API Comprehension"><meta property="og:site_name">
  <meta property="og:title" content="10 Question Coding Quiz">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Generic Coding Quiz for API Comprehension">
  <meta name="twitter:title" content="10 Question Coding Quiz">
  <meta name="twitter:description" content="Generic Coding Quiz for API Comprehension.">
  <title>API Coding Quiz</title>
</head>
<main>
<body>
    <p id="Question"></p>
    <p id="time"></p>
    <div class="list-group" id="myList" role="tablist">
      </div>
    <p id="feedbackEl"></p>
      
<script>

 //   $(document).ready(function() {
// variables for data attribution and processing
let currentQuestionNo= 0;
let possibleAnswers = document.getElementById("myList");
var timerEl = document.getElementById("time");
let timerId;
let multiChoice;
let passedValue;
let feedbackEl = document.getElementById("feedbackEl");
document.getElementById("fading");


//let time = jsQuizQuestions.length * 15;


let jsQuizQuestions = [
    {
        question: "something?",
        multiChoice: ["a", "two", "three", "four", "all of the above"],
        correctAnswer: "a"
    },
    {
        question: "something 2?",
        multiChoice: ["one", "two", "three", "four", "all of the above"],
        correctAnswer: "two"
    },
    {
        question: "something 3?",
        multiChoice: ["one", "two", "three", "four", "all of the above"],
        correctAnswer: "three"
    },
    {
        question: "something 4?",
        multiChoice: ["one", "two", "three", "four", "all of the above"],
        correctAnswer: "four"
    },
    {
        question: "something 5?",
        multiChoice: ["one", "two", "three", "four", "all of the above"],
        correctAnswer: "all of the above"
    },
];
getQuestion();

function getQuestion() {

    // get current question object from array
    currentQuestion = jsQuizQuestions[currentQuestionNo];
    // update title with current question
    let theQuestion = document.getElementById("Question");
    possibleAnswers.innerHTML = "";
    let questionNumber = ([currentQuestionNo + 1] + ". ");
    theQuestion.textContent = (questionNumber + currentQuestion.question);
    console.log(theQuestion.textContent);
    // loop over choices
    currentQuestion.multiChoice.forEach(function(theChoice, i) {
      // create new button for each choice
      let selectedAnswer = document.createElement("button");
      selectedAnswer.setAttribute("class", "list-group-item list-group-item-action");
      selectedAnswer.setAttribute("data-toggle", "list");
      selectedAnswer.setAttribute("value", theChoice);
      selectedAnswer.setAttribute("role", "tab");
      selectedAnswer.textContent = i + 1 + ". " + theChoice;
      // listening for a click on the answer
      // display on the page
      selectedAnswer.onclick = getValue;
      possibleAnswers.appendChild(selectedAnswer);
      console.log("question Number: " + theChoice);
    });
  
  passedValue = (jsQuizQuestions[currentQuestionNo].correctAnswer);

  ///// NEXT QUESTION FUNCTION

  function getValue() {
  // check if user guessed wrong
  if (this.value !== passedValue) {
    console.log(jsQuizQuestions[currentQuestionNo].correctAnswer);
    // penalize time
    time -= 15;

    if (time < 0) {
      time = 0;
    }

    // display new time on page
    timerEl.textContent = time;
    feedbackEl.textContent = "INCORRECT";
    console.log(jsQuizQuestions[currentQuestionNo].correctAnswer);
    feedbackEl.setAttribute("class", "p-3 mb-2 bg-danger text-dark");
  } else {
    feedbackEl.textContent = "YOU GOT IT!";
    feedbackEl.setAttribute("class", "p-3 mb-2 bg-success text-dark showing");


  };
  
  currentQuestionNo ++;
  if(currentQuestionNo < jsQuizQuestions.length){
  getQuestion();
  console.log("question length: " + jsQuizQuestions.length);
 
  } else {
    feedbackEl.textContent = "YOU'RE DONE'!";
  }
  }
 
}

//});
</script>

</body>
</main>
<footer>

</footer>